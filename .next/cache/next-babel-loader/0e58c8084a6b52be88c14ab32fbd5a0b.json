{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Loading from \"../common/Loading\";\nimport SortDescending from \"../../lib/images/sort-descending.png\";\nimport SortAscending from \"../../lib/images/sort-ascending.png\";\nimport SearchIcon from \"../../lib/images/search.png\";\nimport { subPointColor } from \"../../styles/style\";\nconst Container = styled.div.withConfig({\n  displayName: \"ShopItmes__Container\",\n  componentId: \"sc-11ugdzv-0\"\n})([\"margin:10px;width:100%;position:relative;\"]);\nconst MenuContent = styled.div.withConfig({\n  displayName: \"ShopItmes__MenuContent\",\n  componentId: \"sc-11ugdzv-1\"\n})([\"display:flex;border-bottom:1px solid black;padding-bottom:10px;margin-bottom:10px;cursor:pointer;font-size:11px;color:\", \"\"], subPointColor);\nconst Content = styled.div.withConfig({\n  displayName: \"ShopItmes__Content\",\n  componentId: \"sc-11ugdzv-2\"\n})([\"display:flex;border-bottom:1px solid black;margin-bottom:10px;cursor:pointer;font-size:11px;\"]);\nconst Image = styled.div.withConfig({\n  displayName: \"ShopItmes__Image\",\n  componentId: \"sc-11ugdzv-3\"\n})([\"width:50px;margin-right:15px;& img{width:100%;}\"]);\nconst Detail = styled.div.withConfig({\n  displayName: \"ShopItmes__Detail\",\n  componentId: \"sc-11ugdzv-4\"\n})([\"display:flex;width:100%;margin:auto;\"]);\nconst Title = styled.div.withConfig({\n  displayName: \"ShopItmes__Title\",\n  componentId: \"sc-11ugdzv-5\"\n})([\"width:42%;display:inline-block;position:relative;overflow:hidden;margin-right:3%;word-break:break-all;align-self:center;& img{position:absolute;height:13px;right:10%;}\"]);\nconst Number = styled.div.withConfig({\n  displayName: \"ShopItmes__Number\",\n  componentId: \"sc-11ugdzv-6\"\n})([\"width:20%;display:inline-block;position:relative;word-break:break-all;align-self:center;\"]);\nconst Classify = styled.div.withConfig({\n  displayName: \"ShopItmes__Classify\",\n  componentId: \"sc-11ugdzv-7\"\n})([\"width:20%;display:inline-block;position:relative;word-break:break-all;align-self:center;& img{position:absolute;height:13px;right:10%;}\"]);\nconst Specifications = styled.div.withConfig({\n  displayName: \"ShopItmes__Specifications\",\n  componentId: \"sc-11ugdzv-8\"\n})([\"width:15%;display:inline-block;text-align:right;word-break:break-all;align-self:center;\"]);\nconst InputContainer = styled.div.withConfig({\n  displayName: \"ShopItmes__InputContainer\",\n  componentId: \"sc-11ugdzv-9\"\n})([\"width:100%;position:relative;display:flex;margin-bottom:20px;\"]);\nconst InputBoxContainer = styled.div.withConfig({\n  displayName: \"ShopItmes__InputBoxContainer\",\n  componentId: \"sc-11ugdzv-10\"\n})([\"position:relative;margin-left:auto;width:80%;display:flex;& img{width:15px;position:absolute;top:50%;left:10px;transform:translateY(-50%);}& input{font-size:16px;padding-left:30px;width:calc(100% - 100px);height:20px;}& button{white-space:nowrap;margin-left:5px;cursor:pointer;}\"]);\nconst ItemContent = styled.div.withConfig({\n  displayName: \"ShopItmes__ItemContent\",\n  componentId: \"sc-11ugdzv-11\"\n})([\"position:relative;\"]);\n\nconst ShopItems = ({\n  products,\n  onClickProduct,\n  isSortByTitle,\n  sortByTitle,\n  findByText,\n  setInitItems\n}) => {\n  const {\n    0: inputText,\n    1: setInputText\n  } = useState('');\n  const {\n    0: imageLoadCount,\n    1: setImageLoadCount\n  } = useState(0);\n  const {\n    0: isImageAllLoaded,\n    1: setImageAllLoaded\n  } = useState(false);\n  useEffect(() => {\n    if (imageLoadCount >= products.length) {\n      setImageAllLoaded(true);\n    }\n  }, [imageLoadCount]);\n\n  const getItemNumber = product => {\n    if (product.specification) {\n      return `${product.specification[0].number.split('-')[0]}-${product.specification[0].number.split('-')[1]}`;\n    }\n\n    return '';\n  };\n\n  const toggleSortByTitle = () => {\n    sortByTitle();\n  };\n\n  const onChangeText = e => {\n    setInputText(e.target.value);\n  };\n\n  const setFindItemsByText = () => {\n    findByText(inputText);\n  };\n\n  const onLoadImage = () => {\n    setImageLoadCount(imageLoadCount + 1);\n  };\n\n  return __jsx(Container, null, __jsx(InputContainer, null, __jsx(InputBoxContainer, null, __jsx(\"img\", {\n    src: SearchIcon,\n    alt: 'Search icon'\n  }), __jsx(\"input\", {\n    placeholder: '품명 또는 품번을 검색해주세요.',\n    value: inputText,\n    onChange: onChangeText,\n    onKeyPress: event => {\n      if (event.key === 'Enter') {\n        setFindItemsByText();\n      }\n    }\n  }), __jsx(\"button\", {\n    type: \"button\",\n    onClick: setFindItemsByText\n  }, '검색'), __jsx(\"button\", {\n    type: \"button\",\n    onClick: setInitItems\n  }, '초기화'))), __jsx(MenuContent, null, __jsx(Image, null, '사진'), __jsx(Detail, null, __jsx(Title, {\n    onClick: toggleSortByTitle\n  }, '품명', isSortByTitle ? __jsx(\"img\", {\n    src: SortDescending,\n    alt: 'Descending icon'\n  }) : __jsx(\"img\", {\n    src: SortAscending,\n    alt: 'Asceding'\n  })), __jsx(Number, null, '품번'), __jsx(Classify, null, '분류'), __jsx(Specifications, null, '품목수'))), __jsx(ItemContent, null, products.map(product => product && __jsx(\"div\", {\n    key: product.id\n  }, product && __jsx(Content, {\n    onClick: () => onClickProduct(product.id)\n  }, __jsx(Image, null, __jsx(\"img\", {\n    src: `${product.image}?s=52x52`,\n    alt: \"product\",\n    onLoad: onLoadImage\n  })), __jsx(Detail, null, __jsx(Title, null, product.title), __jsx(Number, null, getItemNumber(product)), __jsx(Classify, null, product.classify), __jsx(Specifications, null, product.specification ? product.specification.length : 0))))), !isImageAllLoaded && __jsx(Loading, {\n    text: '이미지를 가져오고 있습니다...'\n  })));\n};\n\nexport default ShopItems;","map":null,"metadata":{},"sourceType":"module"}