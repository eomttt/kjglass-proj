{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Loading from \"../common/Loading\";\nimport SortDescending from \"../../lib/images/sort-descending.png\";\nimport SortAscending from \"../../lib/images/sort-ascending.png\";\nimport SearchIcon from \"../../lib/images/search.png\";\nimport { subPointColor } from \"../../styles/style\";\nconst Container = styled.div.withConfig({\n  displayName: \"ShopItmes__Container\",\n  componentId: \"sc-11ugdzv-0\"\n})([\"margin:10px;width:100%;position:relative;\"]);\nconst MenuContent = styled.div.withConfig({\n  displayName: \"ShopItmes__MenuContent\",\n  componentId: \"sc-11ugdzv-1\"\n})([\"display:flex;border-bottom:1px solid black;padding-bottom:10px;margin-bottom:10px;cursor:pointer;font-size:11px;color:\", \"\"], subPointColor);\nconst Content = styled.div.withConfig({\n  displayName: \"ShopItmes__Content\",\n  componentId: \"sc-11ugdzv-2\"\n})([\"display:flex;border-bottom:1px solid black;margin-bottom:10px;cursor:pointer;font-size:11px;\"]);\nconst Image = styled.div.withConfig({\n  displayName: \"ShopItmes__Image\",\n  componentId: \"sc-11ugdzv-3\"\n})([\"width:50px;margin-right:15px;& img{width:100%;}\"]);\nconst Detail = styled.div.withConfig({\n  displayName: \"ShopItmes__Detail\",\n  componentId: \"sc-11ugdzv-4\"\n})([\"display:flex;width:100%;margin:auto;\"]);\nconst Title = styled.div.withConfig({\n  displayName: \"ShopItmes__Title\",\n  componentId: \"sc-11ugdzv-5\"\n})([\"width:42%;display:inline-block;position:relative;overflow:hidden;margin-right:3%;word-break:break-all;align-self:center;& img{position:absolute;height:13px;right:10%;}\"]);\nconst Number = styled.div.withConfig({\n  displayName: \"ShopItmes__Number\",\n  componentId: \"sc-11ugdzv-6\"\n})([\"width:20%;display:inline-block;position:relative;word-break:break-all;align-self:center;\"]);\nconst Classify = styled.div.withConfig({\n  displayName: \"ShopItmes__Classify\",\n  componentId: \"sc-11ugdzv-7\"\n})([\"width:20%;display:inline-block;position:relative;word-break:break-all;align-self:center;& img{position:absolute;height:13px;right:10%;}\"]);\nconst Specifications = styled.div.withConfig({\n  displayName: \"ShopItmes__Specifications\",\n  componentId: \"sc-11ugdzv-8\"\n})([\"width:15%;display:inline-block;text-align:right;word-break:break-all;align-self:center;\"]);\nconst InputContainer = styled.div.withConfig({\n  displayName: \"ShopItmes__InputContainer\",\n  componentId: \"sc-11ugdzv-9\"\n})([\"width:100%;position:relative;display:flex;margin-bottom:20px;\"]);\nconst InputBoxContainer = styled.div.withConfig({\n  displayName: \"ShopItmes__InputBoxContainer\",\n  componentId: \"sc-11ugdzv-10\"\n})([\"position:relative;margin-left:auto;width:80%;display:flex;& img{width:15px;position:absolute;top:50%;left:10px;transform:translateY(-50%);}& input{font-size:16px;padding-left:30px;width:calc(100% - 100px);height:20px;}& button{white-space:nowrap;margin-left:5px;cursor:pointer;}\"]);\nconst ItemContent = styled.div.withConfig({\n  displayName: \"ShopItmes__ItemContent\",\n  componentId: \"sc-11ugdzv-11\"\n})([\"position:relative;\"]);\n\nconst ShopItems = ({\n  products,\n  onClickProduct,\n  isSortByTitle,\n  sortByTitle,\n  findByText,\n  setInitItems\n}) => {\n  const {\n    0: inputText,\n    1: setInputText\n  } = useState('');\n  const {\n    0: imageLoadCount,\n    1: setImageLoadCount\n  } = useState(0);\n  const {\n    0: isImageAllLoaded,\n    1: setImageAllLoaded\n  } = useState(false);\n  useEffect(() => {\n    if (imageLoadCount >= products.length) {\n      setImageAllLoaded(true);\n    }\n  }, [imageLoadCount]);\n\n  const getItemNumber = product => {\n    if (product.specification) {\n      return `${product.specification[0].number.split('-')[0]}-${product.specification[0].number.split('-')[1]}`;\n    }\n\n    return '';\n  };\n\n  const toggleSortByTitle = () => {\n    sortByTitle();\n  };\n\n  const onChangeText = e => {\n    setInputText(e.target.value);\n  };\n\n  const setFindItemsByText = () => {\n    findByText(inputText);\n  };\n\n  const onLoadImage = () => {\n    setImageLoadCount(imageLoadCount + 1);\n  };\n\n  return __jsx(Container, null, __jsx(InputContainer, null, __jsx(InputBoxContainer, null, __jsx(\"img\", {\n    src: SearchIcon,\n    alt: 'Search icon'\n  }), __jsx(\"input\", {\n    placeholder: '품명 또는 품번을 검색해주세요.',\n    value: inputText,\n    onChange: onChangeText,\n    onKeyPress: event => {\n      if (event.key === 'Enter') {\n        setFindItemsByText();\n      }\n    }\n  }), __jsx(\"button\", {\n    type: \"button\",\n    onClick: setFindItemsByText\n  }, '검색'), __jsx(\"button\", {\n    type: \"button\",\n    onClick: setInitItems\n  }, '초기화'))), __jsx(MenuContent, null, __jsx(Image, null, '사진'), __jsx(Detail, null, __jsx(Title, {\n    onClick: toggleSortByTitle\n  }, '품명', isSortByTitle ? __jsx(\"img\", {\n    src: SortDescending,\n    alt: 'Descending icon'\n  }) : __jsx(\"img\", {\n    src: SortAscending,\n    alt: 'Asceding'\n  })), __jsx(Number, null, '품번'), __jsx(Classify, null, '분류'), __jsx(Specifications, null, '품목수'))), __jsx(ItemContent, null, products.map(product => product && __jsx(\"div\", {\n    key: product.id\n  }, product && __jsx(Content, {\n    onClick: () => onClickProduct(product.id)\n  }, __jsx(Image, null, __jsx(\"img\", {\n    src: `${product.image}?s=52x52`,\n    alt: \"product\",\n    onLoad: onLoadImage\n  })), __jsx(Detail, null, __jsx(Title, null, product.title), __jsx(Number, null, getItemNumber(product)), __jsx(Classify, null, product.classify), __jsx(Specifications, null, product.specification ? product.specification.length : 0))))), !isImageAllLoaded && __jsx(Loading, {\n    text: '이미지를 가져오고 있습니다...'\n  })));\n};\n\nShopItems.propTypes = {\n  products: PropTypes.array.isRequired,\n  onClickProduct: PropTypes.func.isRequired,\n  sortByTitle: PropTypes.func.isRequired,\n  isSortByTitle: PropTypes.bool.isRequired,\n  findByText: PropTypes.func.isRequired,\n  setInitItems: PropTypes.func.isRequired\n};\nexport default ShopItems;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/kjglass-proj/components/shop/ShopItmes.jsx"],"names":["React","useState","useEffect","PropTypes","styled","Loading","SortDescending","SortAscending","SearchIcon","subPointColor","Container","div","MenuContent","Content","Image","Detail","Title","Number","Classify","Specifications","InputContainer","InputBoxContainer","ItemContent","ShopItems","products","onClickProduct","isSortByTitle","sortByTitle","findByText","setInitItems","inputText","setInputText","imageLoadCount","setImageLoadCount","isImageAllLoaded","setImageAllLoaded","length","getItemNumber","product","specification","number","split","toggleSortByTitle","onChangeText","e","target","value","setFindItemsByText","onLoadImage","event","key","map","id","image","title","classify","propTypes","array","isRequired","func","bool"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Loading from '~/components/common/Loading';\n\nimport SortDescending from '~/lib/images/sort-descending.png';\nimport SortAscending from '~/lib/images/sort-ascending.png';\nimport SearchIcon from '~/lib/images/search.png';\n\nimport { subPointColor } from '~/styles/style';\n\nconst Container = styled.div`\n    margin: 10px;\n    width: 100%;\n    position: relative;\n`;\n\nconst MenuContent = styled.div`\n    display: flex;\n    border-bottom: 1px solid black;\n    padding-bottom: 10px;\n    margin-bottom: 10px;\n    cursor: pointer;\n    font-size: 11px;\n    color: ${subPointColor}\n`;\n\nconst Content = styled.div`\n    display: flex;\n    border-bottom: 1px solid black;\n    margin-bottom: 10px;\n    cursor: pointer;\n    font-size: 11px;\n`;\n\nconst Image = styled.div`\n    width: 50px;\n    margin-right: 15px;\n    & img {\n        width: 100%;\n    }\n`;\n\nconst Detail = styled.div`\n    display: flex;\n    width: 100%;\n    margin: auto;\n`;\n\nconst Title = styled.div`\n    width: 42%;\n    display: inline-block;\n    position: relative;\n    overflow: hidden;\n    margin-right: 3%;\n    word-break: break-all;\n    align-self: center;\n    & img {\n        position: absolute;\n        height: 13px;\n        right: 10%;\n    }\n`;\n\nconst Number = styled.div`\n    width: 20%;\n    display: inline-block;\n    position: relative;\n    word-break: break-all;\n    align-self: center;\n`;\n\nconst Classify = styled.div`\n    width: 20%;\n    display: inline-block;\n    position: relative;\n    word-break: break-all;\n    align-self: center;\n    & img {\n        position: absolute;\n        height: 13px;\n        right: 10%;\n    }\n`;\n\nconst Specifications = styled.div`\n    width: 15%;\n    display: inline-block;\n    text-align: right;\n    word-break: break-all;\n    align-self: center;\n`;\n\nconst InputContainer = styled.div`\n    width: 100%;\n    position: relative;\n    display: flex;\n    margin-bottom: 20px;\n`;\n\nconst InputBoxContainer = styled.div`\n    position: relative;\n    margin-left: auto;\n    width: 80%;\n    display: flex;\n    & img {\n        width: 15px;\n        position: absolute;\n        top: 50%;\n        left: 10px;\n        transform: translateY(-50%);\n    }\n    & input {\n        font-size: 16px;\n        padding-left: 30px;\n        width: calc(100% - 100px);\n        height: 20px;\n    }\n    & button {\n        white-space: nowrap;\n        margin-left: 5px;\n        cursor: pointer;\n    }\n`;\n\nconst ItemContent = styled.div`\n    position: relative;\n`;\n\n\nconst ShopItems = ({\n    products, onClickProduct,\n    isSortByTitle, sortByTitle,\n    findByText, setInitItems,\n}) => {\n    const [inputText, setInputText] = useState('');\n    const [imageLoadCount, setImageLoadCount] = useState(0);\n    const [isImageAllLoaded, setImageAllLoaded] = useState(false);\n\n    useEffect(() => {\n        if (imageLoadCount >= products.length) {\n            setImageAllLoaded(true);\n        }\n    }, [imageLoadCount]);\n\n    const getItemNumber = (product) => {\n        if (product.specification) {\n            return `${product.specification[0].number.split('-')[0]}-${product.specification[0].number.split('-')[1]}`;\n        }\n        return '';\n    };\n\n    const toggleSortByTitle = () => {\n        sortByTitle();\n    };\n\n    const onChangeText = (e) => {\n        setInputText(e.target.value);\n    };\n\n    const setFindItemsByText = () => {\n        findByText(inputText);\n    };\n\n    const onLoadImage = () => {\n        setImageLoadCount(imageLoadCount + 1);\n    };\n\n    return (\n        <Container>\n            <InputContainer>\n                <InputBoxContainer>\n                    <img src={SearchIcon} alt={'Search icon'} />\n                    <input\n                        placeholder={'품명 또는 품번을 검색해주세요.'}\n                        value={inputText}\n                        onChange={onChangeText}\n                        onKeyPress={(event) => {\n                            if (event.key === 'Enter') {\n                                setFindItemsByText();\n                            }\n                        }}\n                    />\n                    <button type=\"button\" onClick={setFindItemsByText}>\n                        {'검색'}\n                    </button>\n                    <button type=\"button\" onClick={setInitItems}>\n                        {'초기화'}\n                    </button>\n                </InputBoxContainer>\n            </InputContainer>\n            <MenuContent>\n                <Image>\n                    {'사진'}\n                </Image>\n                <Detail>\n                    <Title onClick={toggleSortByTitle}>\n                        {'품명'}\n                        {\n                            isSortByTitle\n                                ? <img src={SortDescending} alt={'Descending icon'} />\n                                : <img src={SortAscending} alt={'Asceding'} />\n                        }\n                    </Title>\n                    <Number>\n                        {'품번'}\n                    </Number>\n                    <Classify>\n                        {'분류'}\n                    </Classify>\n                    <Specifications>\n                        {'품목수'}\n                    </Specifications>\n                </Detail>\n            </MenuContent>\n            <ItemContent>\n                {\n                    products.map((product) => (\n                        product\n                        && (\n                            <div key={product.id}>\n                                {\n                                    product\n                            && (\n                                <Content onClick={() => onClickProduct(product.id)}>\n                                    <Image>\n                                        <img src={`${product.image}?s=52x52`} alt=\"product\" onLoad={onLoadImage} />\n                                    </Image>\n                                    <Detail>\n                                        <Title>\n                                            {product.title}\n                                        </Title>\n                                        <Number>\n                                            {getItemNumber(product)}\n                                        </Number>\n                                        <Classify>\n                                            {product.classify}\n                                        </Classify>\n                                        <Specifications>\n                                            {product.specification ? product.specification.length : 0}\n                                        </Specifications>\n                                    </Detail>\n                                </Content>\n                            )\n                                }\n                            </div>\n                        )\n                    ))\n                }\n                {\n                    !isImageAllLoaded && <Loading text={'이미지를 가져오고 있습니다...'} />\n                }\n            </ItemContent>\n        </Container>\n    );\n};\n\nShopItems.propTypes = {\n    products: PropTypes.array.isRequired,\n    onClickProduct: PropTypes.func.isRequired,\n    sortByTitle: PropTypes.func.isRequired,\n    isSortByTitle: PropTypes.bool.isRequired,\n    findByText: PropTypes.func.isRequired,\n    setInitItems: PropTypes.func.isRequired,\n};\n\nexport default ShopItems;\n"]},"metadata":{},"sourceType":"module"}