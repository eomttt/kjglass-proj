{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Router from 'next/router';\nimport PropTypes from 'prop-types';\nimport AppLayout from '../components/AppLayout';\nimport Header from '../components/common/Header';\nimport Footer from '../components/common/Footer';\nimport SideBar from '../components/common/SideBar';\nimport { getExpendable } from '../containers/Data';\nimport NavBar from '../containers/common/NavBar';\nimport GlassItems from '../containers/shop/GlassItems';\nimport ExpendablesItems from '../containers/shop/ExpendablesItems';\nimport DownloadCatalog from '../containers/shop/DownloadCatalog';\nimport { ViewContainer, ViewContent } from '../styles/style';\n\nconst glassesData = require('../data/glass.json');\n\nconst Shop = ({\n  id,\n  classifiedId,\n  productId,\n  shopwMetaData\n}) => {\n  const {\n    0: sideBarItems,\n    1: setSideBarItems\n  } = useState([{\n    text: '광진이화학 제품군',\n    id: 1,\n    clicked: false\n  }, {\n    text: '기타 제품군',\n    id: 2,\n    clicked: false\n  }, {\n    text: '카타로그 다운로드',\n    id: 3,\n    clicked: false\n  }]);\n  const setSelectedItem = useCallback(sideId => {\n    const sideBarIds = Object.values(sideBarItems).map(sideBarItem => sideBarItem.id);\n    const isSupportSideId = sideBarIds.includes(+sideId);\n    const itemId = isSupportSideId ? +sideId : 1;\n    const newItmes = sideBarItems.reduce((acc, cur) => {\n      acc.push(_objectSpread(_objectSpread({}, cur), {}, {\n        clicked: cur.id === itemId\n      }));\n      return acc;\n    }, []);\n    setSideBarItems(newItmes);\n  }, [sideBarItems]);\n  useEffect(() => {\n    setSelectedItem(id);\n  }, []);\n  const clickSideItem = useCallback(itemId => {\n    setSelectedItem(itemId);\n    Router.push({\n      pathname: '/shop',\n      query: {\n        id: itemId\n      }\n    });\n  }, [sideBarItems]);\n  return __jsx(AppLayout, {\n    metaInfo: shopwMetaData\n  }, __jsx(NavBar, {\n    sideMenuItems: sideBarItems,\n    clickSideItem: clickSideItem\n  }), __jsx(ViewContainer, null, __jsx(Header, null), __jsx(ViewContent, null, __jsx(SideBar, {\n    sideBarTitle: '제품검색',\n    sideBarItems: sideBarItems,\n    clickSideItem: clickSideItem\n  }), (!id || id === '1') && __jsx(GlassItems, {\n    classifiedId: classifiedId,\n    productId: productId\n  }), id === '2' && __jsx(ExpendablesItems, {\n    classifiedId: classifiedId,\n    productId: productId\n  }), id === '3' && __jsx(DownloadCatalog, {\n    productId: productId\n  }))), __jsx(Footer, null));\n};\n\nShop.getInitialProps = context => {\n  const {\n    query\n  } = context;\n  const {\n    id,\n    classifiedId,\n    productId\n  } = query;\n  let shopwMetaData = {\n    title: null,\n    decription: null,\n    image: null\n  };\n\n  if (classifiedId && productId) {\n    try {\n      const alphabet = decodeURI(classifiedId)[0];\n      let findedData = {};\n\n      if (!id || id === '1') {\n        const data = glassesData.filter(item => item.id === productId);\n        findedData = _objectSpread({}, data[0]);\n      } else {\n        findedData = getExpendable(alphabet, productId);\n      }\n\n      const {\n        title,\n        content,\n        image\n      } = findedData;\n      shopwMetaData = {\n        title,\n        image,\n        decription: content ? content.reduce((acc, cur) => `${acc}, ${cur}`, '') : ''\n      };\n    } catch (error) {\n      console.log('Get initialProps shop error', error);\n    }\n  }\n\n  return {\n    id,\n    productId,\n    shopwMetaData,\n    classifiedId: classifiedId ? decodeURI(classifiedId) : null\n  };\n};\n\nShop.propTypes = {\n  id: PropTypes.string,\n  classifiedId: PropTypes.string,\n  productId: PropTypes.string,\n  shopwMetaData: PropTypes.object\n};\nShop.defaultProps = {\n  id: null,\n  classifiedId: null,\n  productId: null,\n  shopwMetaData: {}\n};\nexport default Shop;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/kjglass-proj/pages/shop.js"],"names":["React","useCallback","useEffect","useState","Router","PropTypes","AppLayout","Header","Footer","SideBar","getExpendable","NavBar","GlassItems","ExpendablesItems","DownloadCatalog","ViewContainer","ViewContent","glassesData","require","Shop","id","classifiedId","productId","shopwMetaData","sideBarItems","setSideBarItems","text","clicked","setSelectedItem","sideId","sideBarIds","Object","values","map","sideBarItem","isSupportSideId","includes","itemId","newItmes","reduce","acc","cur","push","clickSideItem","pathname","query","getInitialProps","context","title","decription","image","alphabet","decodeURI","findedData","data","filter","item","content","error","console","log","propTypes","string","object","defaultProps"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport Router from 'next/router';\n\nimport PropTypes from 'prop-types';\n\nimport AppLayout from '../components/AppLayout';\n\nimport Header from '../components/common/Header';\nimport Footer from '../components/common/Footer';\nimport SideBar from '../components/common/SideBar';\n\nimport { getExpendable } from '../containers/Data';\nimport NavBar from '../containers/common/NavBar';\nimport GlassItems from '../containers/shop/GlassItems';\nimport ExpendablesItems from '../containers/shop/ExpendablesItems';\nimport DownloadCatalog from '../containers/shop/DownloadCatalog';\n\nimport { ViewContainer, ViewContent } from '../styles/style';\n\nconst glassesData = require('../data/glass.json');\n\nconst Shop = ({\n    id, classifiedId, productId, shopwMetaData,\n}) => {\n    const [sideBarItems, setSideBarItems] = useState([{\n        text: '광진이화학 제품군',\n        id: 1,\n        clicked: false,\n    }, {\n        text: '기타 제품군',\n        id: 2,\n        clicked: false,\n    }, {\n        text: '카타로그 다운로드',\n        id: 3,\n        clicked: false,\n    },\n    ]);\n\n    const setSelectedItem = useCallback((sideId) => {\n        const sideBarIds = Object.values(sideBarItems).map((sideBarItem) => sideBarItem.id);\n\n        const isSupportSideId = sideBarIds.includes(+sideId);\n        const itemId = isSupportSideId ? +sideId : 1;\n\n        const newItmes = sideBarItems.reduce((acc, cur) => {\n            acc.push({ ...cur, clicked: cur.id === itemId });\n            return acc;\n        }, []);\n\n        setSideBarItems(newItmes);\n    }, [sideBarItems]);\n\n    useEffect(() => {\n        setSelectedItem(id);\n    }, []);\n\n    const clickSideItem = useCallback((itemId) => {\n        setSelectedItem(itemId);\n        Router.push({\n            pathname: '/shop',\n            query: { id: itemId },\n        });\n    }, [sideBarItems]);\n\n    return (\n        <AppLayout\n            metaInfo={shopwMetaData}\n        >\n            <NavBar\n                sideMenuItems={sideBarItems}\n                clickSideItem={clickSideItem}\n            />\n            <ViewContainer>\n                <Header />\n                <ViewContent>\n                    <SideBar\n                        sideBarTitle={'제품검색'}\n                        sideBarItems={sideBarItems}\n                        clickSideItem={clickSideItem}\n                    />\n                    {(!id || id === '1') && <GlassItems classifiedId={classifiedId} productId={productId} />}\n                    {id === '2' && <ExpendablesItems classifiedId={classifiedId} productId={productId} />}\n                    {id === '3' && <DownloadCatalog productId={productId} />}\n                    {/* {id === '4' && <Safety productId={productId} />} */}\n                </ViewContent>\n            </ViewContainer>\n            <Footer />\n        </AppLayout>\n    );\n};\n\nShop.getInitialProps = (context) => {\n    const { query } = context;\n    const { id, classifiedId, productId } = query;\n    let shopwMetaData = {\n        title: null,\n        decription: null,\n        image: null,\n    };\n\n    if (classifiedId && productId) {\n        try {\n            const alphabet = decodeURI(classifiedId)[0];\n            let findedData = {};\n            if (!id || id === '1') {\n                const data = glassesData.filter((item) => item.id === productId);\n                findedData = { ...data[0] };\n            } else {\n                findedData = getExpendable(alphabet, productId);\n            }\n\n            const { title, content, image } = findedData;\n            shopwMetaData = {\n                title,\n                image,\n                decription: content ? content.reduce((acc, cur) => `${acc}, ${cur}`, '') : '',\n            };\n        } catch (error) {\n            console.log('Get initialProps shop error', error);\n        }\n    }\n\n\n    return {\n        id,\n        productId,\n        shopwMetaData,\n        classifiedId: classifiedId ? decodeURI(classifiedId) : null,\n    };\n};\n\nShop.propTypes = {\n    id: PropTypes.string,\n    classifiedId: PropTypes.string,\n    productId: PropTypes.string,\n    shopwMetaData: PropTypes.object,\n};\n\nShop.defaultProps = {\n    id: null,\n    classifiedId: null,\n    productId: null,\n    shopwMetaData: {},\n};\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}