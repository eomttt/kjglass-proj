{"ast":null,"code":"var __jsx = React.createElement;\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport Product, { ITEM_WIDTH } from '../../containers/main/Product';\nimport { lightGrayColor } from '../../styles/style';\nimport { ArrowNext } from '../common/ArrowNext';\nimport { ArrowPrevious } from '../common/ArrowPrevious';\nconst Container = styled.div.withConfig({\n  displayName: \"ProductList__Container\",\n  componentId: \"v0uq4f-0\"\n})([\"display:flex;width:100%;background-color:\", \";overflow:hidden;flex-direction:row;position:relative;\"], lightGrayColor);\nconst Content = styled.div.withConfig({\n  displayName: \"ProductList__Content\",\n  componentId: \"v0uq4f-1\"\n})([\"white-space:nowrap;overflow:hidden;margin:10px 30px;height:310px;display:flex;align-items:center;\"]);\nconst ProductWrapper = styled.div.withConfig({\n  displayName: \"ProductList__ProductWrapper\",\n  componentId: \"v0uq4f-2\"\n})([\"margin:0 10px;transform:translateX(-\", \"px);transition:transform 0.5s ease;\"], props => props.indent);\nconst Arrow = styled.div.withConfig({\n  displayName: \"ProductList__Arrow\",\n  componentId: \"v0uq4f-3\"\n})([\"position:absolute;top:50%;transform:translateY(-50%);left:\", \";right:\", \";\"], props => props.next ? undefined : 0, props => props.next ? 0 : undefined);\n\nconst ProductList = ({\n  products\n}) => {\n  const contentRef = useRef();\n  const {\n    0: scrollIndex,\n    1: setScrollIndex\n  } = useState(0);\n  const {\n    0: itemCount,\n    1: setItemCount\n  } = useState(0);\n  const maxProducts = useMemo(() => products.length, [products.length]);\n  const maxScrollIndex = useMemo(() => Math.floor(maxProducts / itemCount), [maxProducts, itemCount]);\n  const isShowPrevious = useMemo(() => scrollIndex !== 0, [scrollIndex]);\n  const isShowNext = useMemo(() => scrollIndex !== maxScrollIndex, [scrollIndex, maxProducts]);\n  const snapIndent = useMemo(() => ITEM_WIDTH + 20, []);\n  const clickPrevious = useCallback(() => {\n    setScrollIndex(prev => {\n      if (prev - 1 < 0) {\n        return 0;\n      }\n\n      return prev - 1;\n    });\n  }, []);\n  const clickNext = useCallback(() => {\n    setScrollIndex(prev => {\n      if (prev + 1 >= maxScrollIndex) {\n        return maxScrollIndex;\n      }\n\n      return prev + 1;\n    });\n  }, []);\n  const updateItemCount = useCallback(() => {\n    if (contentRef !== null && contentRef !== void 0 && contentRef.current) {\n      setItemCount(Math.floor(contentRef.current.offsetWidth / snapIndent));\n    }\n  }, [contentRef === null || contentRef === void 0 ? void 0 : contentRef.current, snapIndent]);\n  useEffect(() => {\n    window.addEventListener('resize', updateItemCount);\n    return () => {\n      window.removeEventListener('resize', updateItemCount);\n    };\n  }, []);\n  useEffect(() => {\n    updateItemCount();\n  }, []);\n  return __jsx(Container, null, isShowPrevious && __jsx(Arrow, {\n    next: false,\n    onClick: clickPrevious\n  }, __jsx(ArrowPrevious, null)), isShowNext && __jsx(Arrow, {\n    next: true,\n    onClick: clickNext\n  }, __jsx(ArrowNext, null)), __jsx(Content, {\n    ref: contentRef\n  }, products.map(product => __jsx(ProductWrapper, {\n    key: product.id,\n    indent: snapIndent * itemCount * scrollIndex\n  }, __jsx(Product, {\n    product: product\n  })))));\n};\n\nProductList.propTypes = {\n  products: PropTypes.array.isRequired\n};\nexport default ProductList;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/kjglass-proj/components/main/ProductList.jsx"],"names":["PropTypes","React","useCallback","useEffect","useMemo","useRef","useState","styled","Product","ITEM_WIDTH","lightGrayColor","ArrowNext","ArrowPrevious","Container","div","Content","ProductWrapper","props","indent","Arrow","next","undefined","ProductList","products","contentRef","scrollIndex","setScrollIndex","itemCount","setItemCount","maxProducts","length","maxScrollIndex","Math","floor","isShowPrevious","isShowNext","snapIndent","clickPrevious","prev","clickNext","updateItemCount","current","offsetWidth","window","addEventListener","removeEventListener","map","product","id","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, {\n  useCallback, useEffect, useMemo, useRef, useState,\n} from 'react';\nimport styled from 'styled-components';\nimport Product, { ITEM_WIDTH } from '../../containers/main/Product';\nimport { lightGrayColor } from '../../styles/style';\nimport { ArrowNext } from '../common/ArrowNext';\nimport { ArrowPrevious } from '../common/ArrowPrevious';\n\nconst Container = styled.div`\n  display: flex;\n  width: 100%;\n  background-color: ${lightGrayColor};\n  overflow: hidden;\n  flex-direction: row;\n  position: relative;\n`;\n\nconst Content = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  margin: 10px 30px;\n  height: 310px;\n  display: flex;\n  align-items: center;\n`;\n\nconst ProductWrapper = styled.div`\n  margin: 0 10px;\n  transform: translateX(-${(props) => props.indent}px);\n  transition: transform 0.5s ease;\n`;\n\nconst Arrow = styled.div`\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: ${(props) => (props.next ? undefined : 0)};\n  right: ${(props) => (props.next ? 0 : undefined)};\n`;\n\nconst ProductList = ({ products }) => {\n  const contentRef = useRef();\n  const [scrollIndex, setScrollIndex] = useState(0);\n  const [itemCount, setItemCount] = useState(0);\n\n  const maxProducts = useMemo(() => products.length, [products.length]);\n  const maxScrollIndex = useMemo(() => Math.floor(maxProducts / itemCount), [maxProducts, itemCount]);\n  const isShowPrevious = useMemo(() => scrollIndex !== 0, [scrollIndex]);\n  const isShowNext = useMemo(() => scrollIndex !== maxScrollIndex, [scrollIndex, maxProducts]);\n  const snapIndent = useMemo(() => ITEM_WIDTH + 20, []);\n\n  const clickPrevious = useCallback(() => {\n    setScrollIndex((prev) => {\n      if (prev - 1 < 0) {\n        return 0;\n      }\n      return prev - 1;\n    });\n  }, []);\n\n  const clickNext = useCallback(() => {\n    setScrollIndex((prev) => {\n      if (prev + 1 >= maxScrollIndex) {\n        return maxScrollIndex;\n      }\n      return prev + 1;\n    });\n  }, []);\n\n  const updateItemCount = useCallback(() => {\n    if (contentRef?.current) {\n      setItemCount(Math.floor(contentRef.current.offsetWidth / snapIndent));\n    }\n  }, [contentRef?.current, snapIndent]);\n\n  useEffect(() => {\n    window.addEventListener('resize', updateItemCount);\n\n    return () => {\n      window.removeEventListener('resize', updateItemCount);\n    };\n  }, []);\n\n  useEffect(() => {\n    updateItemCount();\n  }, []);\n\n  return (\n    <Container>\n      {isShowPrevious && (\n        <Arrow next={false} onClick={clickPrevious}>\n          <ArrowPrevious />\n        </Arrow>\n      )}\n      {isShowNext && (\n        <Arrow next onClick={clickNext}>\n          <ArrowNext />\n        </Arrow>\n      )}\n      <Content ref={contentRef}>\n        {\n          products.map((product) => (\n            <ProductWrapper key={product.id} indent={(snapIndent * itemCount) * scrollIndex}>\n              <Product product={product} />\n            </ProductWrapper>\n          ))\n        }\n      </Content>\n    </Container>\n  );\n};\n\nProductList.propTypes = {\n  products: PropTypes.array.isRequired,\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}